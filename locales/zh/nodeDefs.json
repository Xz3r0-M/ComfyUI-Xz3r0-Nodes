{
  "XMath": {
    "display_name": "XMath",
    "description": "数学运算节点，支持加、减、乘、除、幂运算和取模操作，提供双输出格式。",
    "inputs": {
      "operation": {
        "name": "运算类型",
        "tooltip": "数学运算类型",
        "options": {
          "Addition (+)": "加法 (+)",
          "Subtraction (-)": "减法 (-)",
          "Multiplication (×)": "乘法 (×)",
          "Division (÷)": "除法 (÷)",
          "Power (**)": "幂运算 (**)",
          "Modulo (%)": "取模 (%)",
          "Maximum": "最大值",
          "Minimum": "最小值"
        }
      },
      "input_a": {
        "name": "输入 A",
        "tooltip": "输入值 A（接受整数和浮点数，启用 使用输入 A 时优先使用）"
      },
      "input_b": {
        "name": "输入 B",
        "tooltip": "输入值 B（接受整数和浮点数，启用 使用输入 B 时优先使用）"
      },
      "basic_a": {
        "name": "基础 A",
        "tooltip": "基础值 A（浮点数）"
      },
      "basic_b": {
        "name": "基础 B",
        "tooltip": "基础值 B（浮点数）"
      },
      "use_input_a": {
        "name": "使用输入 A",
        "tooltip": "使用输入值 A（启用时 输入 A 优先，如果未连接到其他节点则回退到 基础 A）"
      },
      "use_input_b": {
        "name": "使用输入 B",
        "tooltip": "使用输入值 B（启用时 输入 B 优先，如果未连接到其他节点则回退到 基础 B）"
      },
      "swap_ab": {
        "name": "交换 A 和 B",
        "tooltip": "交换 a 和 b 的值"
      }
    },
    "outputs": {
      "0": {
        "name": "整数结果",
        "tooltip": "整数结果(截断小数部分，向零取整)"
      },
      "1": {
        "name": "浮点结果",
        "tooltip": "浮点数结果(精确值，包含小数)"
      }
    }
  },
  "XResolution": {
    "display_name": "XResolution",
    "description": "分辨率设置节点，提供标准预设、自定义缩放和取整功能。",
    "inputs": {
      "preset": {
        "name": "分辨率预设",
        "tooltip": "自定义或标准分辨率预设"
      },
      "width": {
        "name": "自定义宽度",
        "tooltip": "自定义分辨率宽度"
      },
      "height": {
        "name": "自定义高度",
        "tooltip": "自定义分辨率高度"
      },
      "scale": {
        "name": "缩放倍率",
        "tooltip": "缩放倍率"
      },
      "swap": {
        "name": "交换宽高",
        "tooltip": "交换宽度和高度"
      },
      "divisible_mode": {
        "name": "整除模式",
        "tooltip": "如何调整分辨率使其可被整除：Disabled=不调整，Nearest=取最近的倍数，Up=向上取整，Down=向下取整",
        "options": {
          "Disabled": "禁用整除调整功能",
          "Nearest": "取最接近的倍数 (余数≤除数/2 时向下，否则向上)",
          "Up": "向上取整到下一个倍数",
          "Down": "向下取整到上一个倍数"
        }
      },
      "divisible": {
        "name": "整除数",
        "tooltip": "使分辨率可被该数整除（设置为 1 时禁用，常用值：8、16、32、64）"
      },
      "width_offset": {
        "name": "宽度偏移",
        "tooltip": "在输出宽度上添加偏移值（正数=增加，负数=减少，默认=0）"
      },
      "height_offset": {
        "name": "高度偏移",
        "tooltip": "在输出高度上添加偏移值（正数=增加，负数=减少，默认=0）"
      }
    },
    "outputs": {
      "0": {
        "name": "宽度",
        "tooltip": "输出分辨率宽度（在预设、缩放、交换和取整后）"
      },
      "1": {
        "name": "高度",
        "tooltip": "输出分辨率高度（在预设、缩放、交换和取整后）"
      }
    }
  },
  "XImageResize": {
    "display_name": "XImageResize",
    "description": "全自动图像缩放节点，智能识别横屏/竖屏/正方形，支持多种插值算法，按长边或短边等比缩放。",
    "inputs": {
      "IMAGE": {
        "name": "图像",
        "tooltip": "输入图像"
      },
      "scale_mode": {
        "name": "插值算法",
        "tooltip": "选择缩放图片的插值算法：Nearest-exact=最快，Bilinear=快&中等质量，Area=适合缩小，Bicubic=中等速度&高质量，Lanczos=慢&最高质量",
        "options": {
          "Nearest-exact": "精确最近邻（速度最快，像素级精确，适合像素艺术）",
          "Bilinear": "双线性插值（速度快，质量中等，通用场景）",
          "Area": "区域插值（适合缩小，保留细节）",
          "Bicubic": "双三次插值（速度中等，质量高，适合放大）",
          "Lanczos": "Lanczos 插值（速度慢，质量最高，专业场景）"
        }
      },
      "edge_mode": {
        "name": "缩放基准",
        "tooltip": "选择缩放基准：Long=长边，Short=短边，Megapixels=百万像素，Scale Multiplier=缩放倍率",
        "options": {
          "Long": "长边（横屏的宽/竖屏的高）",
          "Short": "短边（横屏的高/竖屏的宽）",
          "Megapixels": "百万像素（按目标像素数精确缩放）",
          "Scale Multiplier": "缩放倍率（按缩放倍率缩放，忽略目标边长）"
        }
      },
      "target_edge": {
        "name": "目标边长",
        "tooltip": "目标边长值（长边或短边的目标像素数，百万像素模式下忽略）"
      },
      "megapixels": {
        "name": "百万像素",
        "tooltip": "边长模式=上限保护 (0=禁用)，百万像素模式=目标像素数 (必须>0)"
      },
      "scale_multiplier": {
        "name": "缩放倍率",
        "tooltip": "缩放倍率（仅在倍率模式下使用，范围：0.1-10.0）"
      },
      "divisible_mode": {
        "name": "整除模式",
        "tooltip": "如何调整分辨率使其可被整除：Disabled=不调整，Nearest=取最近的倍数，Up=向上取整，Down=向下取整",
        "options": {
          "Disabled": "禁用整除调整功能",
          "Nearest": "取最接近的倍数 (余数≤除数/2 时向下，否则向上)",
          "Up": "向上取整到下一个倍数",
          "Down": "向下取整到上一个倍数"
        }
      },
      "divisible": {
        "name": "整除数",
        "tooltip": "使分辨率可被该数整除（设置为 1 时禁用，常用值：8、16、32、64）"
      },
      "width_offset": {
        "name": "宽度偏移",
        "tooltip": "在输出宽度上添加偏移值（正数=增加，负数=减少，默认=0）"
      },
      "height_offset": {
        "name": "高度偏移",
        "tooltip": "在输出高度上添加偏移值（正数=增加，负数=减少，默认=0）"
      }
    },
    "outputs": {
      "0": {
        "name": "图像",
        "tooltip": "缩放后的图像"
      },
      "1": {
        "name": "宽度",
        "tooltip": "输出分辨率宽度"
      },
      "2": {
        "name": "高度",
        "tooltip": "输出分辨率高度"
      }
    }
  },
  "XImageSave": {
    "display_name": "XImageSave",
    "description": "高级图像保存节点，支持自定义文件名、子文件夹和日期时间占位符。",
    "inputs": {
      "images": {
        "name": "图像",
        "tooltip": "输入图像张量 (B, H, W, C)"
      },
      "filename_prefix": {
        "name": "文件名前缀",
        "tooltip": "文件名前缀，支持日期时间标识符：%Y%, %m%, %d%, %H%, %M%, %S%"
      },
      "subfolder": {
        "name": "子文件夹",
        "tooltip": "子文件夹名称 (不支持路径分隔符)，支持日期时间标识符：%Y%, %m%, %d%, %H%, %M%, %S%"
      },
      "compression_level": {
        "name": "压缩级别",
        "tooltip": "PNG 压缩级别 (0=无压缩，9=最大压缩)"
      }
    },
    "outputs": {
      "0": {
        "name": "图像",
        "tooltip": "原始输入图像（直接传递）"
      },
      "1": {
        "name": "保存路径",
        "tooltip": "保存的文件路径（相对于 ComfyUI 输出目录）"
      }
    }
  },
  "XLatentLoad": {
    "display_name": "XLatentLoad",
    "description": "Latent加载节点，支持从输入端口或文件加载，自动检测格式。",
    "inputs": {
      "latent_input": {
        "name": "Latent",
        "tooltip": "来自其他节点的Latent输入（优先级高于文件加载）"
      },
      "latent_file": {
        "name": "Latent文件",
        "tooltip": "从ComfyUI输出目录加载的Latent文件"
      }
    },
    "outputs": {
      "0": {
        "name": "Latent",
        "tooltip": "加载的Latent张量（从输入端口或文件）"
      }
    }
  },
  "XLatentSave": {
    "display_name": "XLatentSave",
    "description": "Latent保存节点，支持元数据保存和自定义文件名。",
    "inputs": {
      "latent": {
        "name": "Latent",
        "tooltip": "要保存的输入Latent张量"
      },
      "filename_prefix": {
        "name": "文件名前缀",
        "tooltip": "文件名前缀，支持日期时间标识符: %Y%, %m%, %d%, %H%, %M%, %S%"
      },
      "subfolder": {
        "name": "子文件夹",
        "tooltip": "子文件夹名称(不支持路径分隔符)，支持日期时间标识符: %Y%, %m%, %d%, %H%, %M%, %S%"
      }
    },
    "outputs": {
      "0": {
        "name": "Latent",
        "tooltip": "原始输入Latent(透传)"
      },
      "1": {
        "name": "保存路径",
        "tooltip": "保存的文件路径（相对于ComfyUI输出目录）"
      }
    }
  },
  "XVideoSave": {
    "display_name": "XVideoSave",
    "description": "视频保存节点，支持H.265编码和自定义参数。",
    "inputs": {
      "video": {
        "name": "视频",
        "tooltip": "要保存的视频"
      },
      "filename_prefix": {
        "name": "文件名前缀",
        "tooltip": "文件名前缀，支持日期时间标识符: %Y%, %m%, %d%, %H%, %M%, %S%"
      },
      "subfolder": {
        "name": "子文件夹",
        "tooltip": "子文件夹名称(不支持路径分隔符)，支持日期时间标识符: %Y%, %m%, %d%, %H%, %M%, %S%"
      },
      "crf": {
        "name": "视频CRF",
        "tooltip": "质量参数 (0=无损，40=最差质量)，数值越高质量越低文件越小"
      },
      "preset": {
        "name": "编码预设",
        "tooltip": "编码速度/压缩效率权衡。快速预设编码快但文件较大，慢速预设压缩更好但耗时更长。",
        "options": {
          "ultrafast": "极快",
          "superfast": "超快",
          "veryfast": "很快",
          "faster": "较快",
          "fast": "快",
          "medium": "中等",
          "slow": "慢",
          "slower": "较慢",
          "veryslow": "很慢"
        }
      }
    }
  },
  "XAudioSave": {
    "display_name": "XAudioSave",
    "description": "音频保存节点，使用WAV无损格式，支持自定义文件名、子文件夹、日期时间标识符、动态范围压缩、音量标准化和峰值限制。",
    "inputs": {
      "audio": {
        "name": "音频",
        "tooltip": "输入音频张量"
      },
      "filename_prefix": {
        "name": "文件名前缀",
        "tooltip": "文件名前缀，支持日期时间标识符: %Y%, %m%, %d%, %H%, %M%, %S%"
      },
      "subfolder": {
        "name": "子文件夹",
        "tooltip": "子文件夹名称(不支持路径分隔符)，支持日期时间标识符: %Y%, %m%, %d%, %H%, %M%, %S%"
      },
      "sample_rate": {
        "name": "采样率",
        "tooltip": "输出音频的目标采样率",
        "options": {
          "44100": "44100 Hz",
          "48000": "48000 Hz",
          "96000": "96000 Hz",
          "192000": "192000 Hz"
        }
      },
      "target_lufs": {
        "name": "目标LUFS",
        "tooltip": "音量标准化目标LUFS值。数值越低音频越安静。默认 -14.1，设置为-70可禁用。"
      },
      "enable_peak_limiter": {
        "name": "启用峰值限制",
        "tooltip": "启用 True Peak 限制（广播标准，8x过采样）。禁用时跳过峰值限制。"
      },
      "peak_limit": {
        "name": "峰值限制",
        "tooltip": "峰值限制值(dB)。仅在启用峰值限制时使用。默认 -1.1，值低于0dB可防止削波。"
      },
      "enable_compression": {
        "name": "启用压缩",
        "tooltip": "启用使用acompressor滤镜的动态范围压缩。禁用时，跳过压缩并直接进行LUFS标准化。"
      },
      "compression_mode": {
        "name": "压缩模式",
        "tooltip": "压缩预设模式。阈值根据音频LUFS和目标LUFS自动计算。快速：适合语音/播客，压缩比3:1。平衡：通用/音乐，压缩比2:1。缓慢：适合母带/广播，压缩比1.5:1。",
        "options": {
          "Fast": "快速",
          "Balanced": "平衡",
          "Slow": "缓慢"
        }
      },
      "use_custom_ratio": {
        "name": "使用自定义压缩比",
        "tooltip": "启用自定义压缩比以覆盖预设值。禁用时，使用预设的默认压缩比。"
      },
      "custom_ratio": {
        "name": "自定义压缩比",
        "tooltip": "自定义压缩比（1.0到20.0）。仅在启用使用自定义压缩比时使用。数值越小压缩越轻，数值越大压缩越强。将压缩比设置为1.0可禁用压缩（直通模式）。"
      }
    },
    "outputs": {
      "0": {
        "name": "处理后的音频",
        "tooltip": "经过重采样、压缩、音量标准化和峰值限制处理后的音频"
      },
      "1": {
        "name": "保存路径",
        "tooltip": "保存的文件路径（相对于ComfyUI输出目录）"
      }
    }
  },
  "XStringGroup": {
    "display_name": "XStringGroup",
    "description": "组合5个多行字符串输入，可在它们之间选择不同的分隔方式。",
    "inputs": {
      "select_string": {
        "name": "选择字符串",
        "tooltip": "选择要输出的字符串 (1-5)",
        "options": {
          "1": "1",
          "2": "2",
          "3": "3",
          "4": "4",
          "5": "5"
        }
      },
      "string_1": {
        "name": "字符串 1",
        "tooltip": "第一个多行字符串输入"
      },
      "separation_method_1_2": {
        "name": "分隔方式 1-2",
        "tooltip": "字符串 1 和字符串 2 之间的分隔方式 (无: '', 换行: \\n, 空格: ' ', 逗号: ',', 逗号+空格: ', ', 句号: '.', 句号+空格: '. ')",
        "options": {
          "none": "无",
          "newline": "换行",
          "space": "空格",
          "comma": "逗号",
          "comma_space": "逗号+空格",
          "period": "句号",
          "period_space": "句号+空格"
        }
      },
      "string_2": {
        "name": "字符串 2",
        "tooltip": "第二个多行字符串输入"
      },
      "separation_method_2_3": {
        "name": "分隔方式 2-3",
        "tooltip": "字符串 2 和字符串 3 之间的分隔方式 (无: '', 换行: \\n, 空格: ' ', 逗号: ',', 逗号+空格: ', ', 句号: '.', 句号+空格: '. ')",
        "options": {
          "none": "无",
          "newline": "换行",
          "space": "空格",
          "comma": "逗号",
          "comma_space": "逗号+空格",
          "period": "句号",
          "period_space": "句号+空格"
        }
      },
      "string_3": {
        "name": "字符串 3",
        "tooltip": "第三个多行字符串输入"
      },
      "separation_method_3_4": {
        "name": "分隔方式 3-4",
        "tooltip": "字符串 3 和字符串 4 之间的分隔方式 (无: '', 换行: \\n, 空格: ' ', 逗号: ',', 逗号+空格: ', ', 句号: '.', 句号+空格: '. ')",
        "options": {
          "none": "无",
          "newline": "换行",
          "space": "空格",
          "comma": "逗号",
          "comma_space": "逗号+空格",
          "period": "句号",
          "period_space": "句号+空格"
        }
      },
      "string_4": {
        "name": "字符串 4",
        "tooltip": "第四个多行字符串输入"
      },
      "separation_method_4_5": {
        "name": "分隔方式 4-5",
        "tooltip": "字符串 4 和字符串 5 之间的分隔方式 (无: '', 换行: \\n, 空格: ' ', 逗号: ',', 逗号+空格: ', ', 句号: '.', 句号+空格: '. ')",
        "options": {
          "none": "无",
          "newline": "换行",
          "space": "空格",
          "comma": "逗号",
          "comma_space": "逗号+空格",
          "period": "句号",
          "period_space": "句号+空格"
        }
      },
      "string_5": {
        "name": "字符串 5",
        "tooltip": "第五个多行字符串输入"
      }
    },
    "outputs": {
      "0": {
        "name": "所有字符串",
        "tooltip": "组合所有字符串(带有分隔方式)的输出"
      },
      "1": {
        "name": "选择的字符串",
        "tooltip": "由选择字符串栏所选择的输出"
      },
      "2": {
        "name": "字符串 1",
        "tooltip": "字符串 1 的原始输出"
      },
      "3": {
        "name": "字符串 2",
        "tooltip": "字符串 2 的原始输出"
      },
      "4": {
        "name": "字符串 3",
        "tooltip": "字符串 3 的原始输出"
      },
      "5": {
        "name": "字符串 4",
        "tooltip": "字符串 4 的原始输出"
      },
      "6": {
        "name": "字符串 5",
        "tooltip": "字符串 5 的原始输出"
      }
    }
  },
  "XWorkflowSave": {
    "display_name": "XWorkflowSave",
    "description": "将ComfyUI工作流保存为JSON文件，支持四种保存模式（Auto自动检测、Standard标准模式、FullWorkflow完整工作流模式、Prompt+FullWorkflow组合模式），支持自定义文件名、子文件夹和日期时间标识符。",
    "inputs": {
      "anything": {
        "name": "任意输入",
        "tooltip": "任意输入类型，用于工作流连接。此输入不处理数据，仅用于将节点链接到工作流中。可选 - 不连接任何数据也能正常工作。"
      },
      "save_mode": {
        "name": "保存模式",
        "tooltip": "保存模式: Auto(自动检测，优先Prompt+FullWorkflow，如前端扩展未加载则回退到Standard), Standard(使用extra_pnginfo保存prompt+workflow), FullWorkflow(仅保存完整工作流，需要前端API数据), Prompt+FullWorkflow(保存prompt+完整工作流，需要前端API数据)",
        "options": {
          "Auto": "自动",
          "Standard": "标准",
          "FullWorkflow": "完整工作流",
          "Prompt+FullWorkflow": "Prompt+完整工作流"
        }
      },
      "filename_prefix": {
        "name": "文件名前缀",
        "tooltip": "文件名前缀，支持日期时间标识符: %Y%(年), %m%(月), %d%(日), %H%(时), %M%(分), %S%(秒)。默认: ComfyUI_%Y%-%m%-%d%_%H%-%M%-%S%"
      },
      "subfolder": {
        "name": "子文件夹",
        "tooltip": "子文件夹名称(不支持路径分隔符/和\\)，支持日期时间标识符: %Y%, %m%, %d%, %H%, %M%, %S%。默认: Workflows"
      }
    },
    "outputs": {
      "0": {
        "name": "任意输出",
        "tooltip": "透传输入的数据，可直接传递给下游节点"
      },
      "1": {
        "name": "工作流信息",
        "tooltip": "工作流信息摘要，包含保存状态、节点数量、数据概览和文件路径。可用于调试和验证。"
      }
    }
  },
  "XDateTimeString": {
    "display_name": "XDateTimeString",
    "description": "日期时间字符串节点，生成包含日期时间标识符的格式化字符串，用于链接给本身不支持日期标识符的节点。",
    "inputs": {
      "prefix": {
        "name": "前缀",
        "tooltip": "前缀字符串，将添加到日期时间字符串之前"
      },
      "format_template": {
        "name": "格式模板",
        "tooltip": "日期时间格式模板，支持占位符: %Y%(年), %m%(月), %d%(日), %H%(时), %M%(分), %S%(秒)"
      },
      "suffix": {
        "name": "后缀",
        "tooltip": "后缀字符串，将添加到日期时间字符串之后"
      }
    },
    "outputs": {
      "0": {
        "name": "日期时间字符串",
        "tooltip": "格式化后的日期时间字符串"
      }
    }
  }
}
